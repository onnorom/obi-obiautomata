require 'spec_helper'
describe 'obijiautomata' do
  let(:title) { 'obijiautomata' } # sets title of the class declaration
  let(:node) { 'test.example.com' } # set name of node if needed

  context 'RedHat' do
    let(:facts) { {
      :osfamily => 'RedHat',
      :os => {'family' => 'RedHat'},
      :operatingsystem => 'CentOS',
      :automata_ctrldir => '/var/tmp/obijictrl',
    } }

    let(:params) { {
      #:servicetype => 'cron',
    } } 
    #it { is_expected.to compile }
    #it { is_expected.to compile.with_all_deps }
    #it { is_expected.to compile.and_raise_error(/Evaluation Error/) }

    #it { is_expected.to contain_package('obijiautomata').with(ensure: ‘present’) }
    it { should contain_class('obijiautomata') }
  end

  context 'Debian' do
    let(:facts) { {
      :osfamily => 'Debian',
      :os => {'family' => 'Debian'},
      :operatingsystem => 'Ubuntu',
      :automata_ctrldir => '/var/tmp/obijictrl',
    } }

    it { should contain_class('obijiautomata') }
  end
end

